package lotr.common.world.map;

public enum LOTRMountains {
   BAG_HILL(LOTRWaypoint.HOBBITON.getX(), LOTRWaypoint.HOBBITON.getY() - 4.0D, 1.0F, 70),
   AMON_EREB(LOTRWaypoint.AMON_EREB.getX(), LOTRWaypoint.AMON_EREB.getY(), 2.0F, 120),
   BELEGOST(LOTRWaypoint.BELEGOST.getX() - 2.0D, LOTRWaypoint.BELEGOST.getY() - 2.0D, 5.0F, 300),
   NOGROD(LOTRWaypoint.NOGROD.getX(), LOTRWaypoint.NOGROD.getY() + 2.0D, 5.0F, 300),
   MOUNT_RERIR(LOTRWaypoint.MOUNT_RERIR.getX(), LOTRWaypoint.MOUNT_RERIR.getY(), 3.0F, 200),
   MOUNT_DOLMED(LOTRWaypoint.MOUNT_DOLMED.getX(), LOTRWaypoint.MOUNT_DOLMED.getY(), 4.0F, 300),
   BREE(LOTRWaypoint.BREE.getX() + 5.0D, LOTRWaypoint.BREE.getY(), 2.0F, 500),
   WEATHERTOP(LOTRWaypoint.WEATHERTOP.getX(), LOTRWaypoint.WEATHERTOP.getY() - 1.0D, 2.5F, 65),
   CARN_DUM(LOTRWaypoint.CARN_DUM.getX(), LOTRWaypoint.CARN_DUM.getY() - 1.0D, 2.5F, 150),
   MOUNT_GRAM(LOTRWaypoint.MOUNT_GRAM.getX(), LOTRWaypoint.MOUNT_GRAM.getY(), 2.5F, 250),
   MOUNT_GUNDABAD(LOTRWaypoint.MOUNT_GUNDABAD.getX(), LOTRWaypoint.MOUNT_GUNDABAD.getY(), 2.5F, 250),
   MOUNT_CELEBDIL(LOTRWaypoint.MOUNT_CELEBDIL.getX(), LOTRWaypoint.MOUNT_CELEBDIL.getY(), 2.5F, 250),
   MOUNT_CARADHRAS(LOTRWaypoint.MOUNT_CARADHRAS.getX(), LOTRWaypoint.MOUNT_CARADHRAS.getY(), 3.0F, 250),
   MOUNT_FANUIDHOL(LOTRWaypoint.MOUNT_FANUIDHOL.getX(), LOTRWaypoint.MOUNT_FANUIDHOL.getY(), 2.5F, 250),
   MOUNT_METHEDRAS(LOTRWaypoint.MOUNT_METHEDRAS.getX(), LOTRWaypoint.MOUNT_METHEDRAS.getY(), 2.5F, 250),
   EAGLES_EYRIE(LOTRWaypoint.EAGLES_EYRIE.getX(), LOTRWaypoint.EAGLES_EYRIE.getY(), 3.5F, 100),
   EREBOR(LOTRWaypoint.EREBOR.getX() - 1.0D, LOTRWaypoint.EREBOR.getY() - 4.0D, 5.0F, 300),
   WEST_PEAK(LOTRWaypoint.WEST_PEAK.getX() - 1.0D, LOTRWaypoint.WEST_PEAK.getY() - 1.0D, 4.0F, 250),
   EAST_PEAK(LOTRWaypoint.EAST_PEAK.getX() + 1.0D, LOTRWaypoint.EAST_PEAK.getY() - 1.0D, 4.0F, 250),
   CERIN_AMROTH(LOTRWaypoint.CERIN_AMROTH.getX(), LOTRWaypoint.CERIN_AMROTH.getY(), 1.0F, 80),
   CARAS_GALADHON(LOTRWaypoint.CARAS_GALADHON.getX(), LOTRWaypoint.CARAS_GALADHON.getY(), 1.5F, 150),
   DOL_GULDUR(LOTRWaypoint.DOL_GULDUR.getX(), LOTRWaypoint.DOL_GULDUR.getY(), 1.5F, 100),
   TREEBEARD_HILL(LOTRWaypoint.TREEBEARD_HILL.getX(), LOTRWaypoint.TREEBEARD_HILL.getY(), 1.0F, 80),
   AMON_HEN(LOTRWaypoint.AMON_HEN.getX(), LOTRWaypoint.AMON_HEN.getY(), 1.5F, 100),
   AMON_LHAW(LOTRWaypoint.AMON_LHAW.getX(), LOTRWaypoint.AMON_LHAW.getY(), 1.5F, 100),
   EDORAS(LOTRWaypoint.EDORAS.getX() + 1.0D, LOTRWaypoint.EDORAS.getY() - 1.0D, 1.5F, 140),
   ALDBURG(LOTRWaypoint.ALDBURG.getX() + 1.0D, LOTRWaypoint.ALDBURG.getY() - 1.0D, 1.5F, 120),
   HALIFIRIEN(LOTRWaypoint.HALIFIRIEN.getX(), LOTRWaypoint.HALIFIRIEN.getY() + 1.0D, 2.5F, 170),
   CALENHAD(LOTRWaypoint.CALENHAD.getX(), LOTRWaypoint.CALENHAD.getY() + 1.0D, 2.0F, 100),
   MINRIMMON(LOTRWaypoint.MINRIMMON.getX(), LOTRWaypoint.MINRIMMON.getY() + 1.0D, 2.0F, 120),
   ERELAS(LOTRWaypoint.ERELAS.getX(), LOTRWaypoint.ERELAS.getY() + 1.0D, 1.5F, 100),
   NARDOL(LOTRWaypoint.NARDOL.getX(), LOTRWaypoint.NARDOL.getY() + 1.0D, 1.5F, 150),
   EILENACH(LOTRWaypoint.EILENACH.getX(), LOTRWaypoint.EILENACH.getY() + 1.0D, 2.0F, 130),
   AMON_DIN(LOTRWaypoint.AMON_DIN.getX() + 1.0D, LOTRWaypoint.AMON_DIN.getY(), 2.0F, 120),
   MINDOLLUIN(LOTRWaypoint.MINAS_TIRITH.getX() - 4.0D, LOTRWaypoint.MINAS_TIRITH.getY(), 1.0F, 200),
   TIRITH_HILL(LOTRWaypoint.MINAS_TIRITH.getX() - 2.5D, LOTRWaypoint.MINAS_TIRITH.getY(), 3.5F, 170),
   DOL_AMROTH(LOTRWaypoint.DOL_AMROTH.getX() - 2.0D, LOTRWaypoint.DOL_AMROTH.getY(), 2.2F, 250),
   ERECH(LOTRWaypoint.ERECH.getX(), LOTRWaypoint.ERECH.getY(), 2.5F, 150),
   MOUNT_DOOM(LOTRWaypoint.MOUNT_DOOM.getX() + 1.0D, LOTRWaypoint.MOUNT_DOOM.getY() + 2.0D, 5.0F, 250, 25);

   private int xCoord;
   private int zCoord;
   private float height;
   private int range;
   private int lavaRange;

   private LOTRMountains(double x, double z, float h, int r) {
      this(x, z, h, r, 0);
   }

   private LOTRMountains(double x, double z, float h, int r, int l) {
      this.xCoord = LOTRWaypoint.mapToWorldX(x);
      this.zCoord = LOTRWaypoint.mapToWorldZ(z);
      this.height = h;
      this.range = r;
      this.lavaRange = l;
   }

   private float getLavaCraterHeight() {
      return (1.0F - (float)this.lavaRange / (float)this.range) * this.height * 0.4F;
   }

   public float getHeightBoost(int x, int z) {
      double dx = (double)(x - this.xCoord);
      double dz = (double)(z - this.zCoord);
      double distSq = dx * dx + dz * dz;
      double rangeSq = (double)(this.range * this.range);
      if (distSq < rangeSq) {
         double lavaRangeSq;
         if (this.lavaRange > 0) {
            lavaRangeSq = (double)(this.lavaRange * this.lavaRange);
            if (distSq < lavaRangeSq) {
               return this.getLavaCraterHeight();
            }
         }

         lavaRangeSq = Math.sqrt(distSq);
         float f = (float)(lavaRangeSq / (double)this.range);
         return (1.0F - f) * this.height;
      } else {
         return 0.0F;
      }
   }

   public static float getTotalHeightBoost(int x, int z) {
      float f = 0.0F;
      LOTRMountains[] var3 = values();
      int var4 = var3.length;

      for(int var5 = 0; var5 < var4; ++var5) {
         LOTRMountains m = var3[var5];
         f += m.getHeightBoost(x, z);
      }

      return f;
   }

   public static boolean mountainAt(int x, int z) {
      return getTotalHeightBoost(x, z) > 0.005F;
   }

   public static boolean mountainNear(int x, int z, int range) {
      LOTRMountains[] var3 = values();
      int var4 = var3.length;

      for(int var5 = 0; var5 < var4; ++var5) {
         LOTRMountains m = var3[var5];
         double mtnRange = (double)(range + m.range);
         double rangeSq = mtnRange * mtnRange;
         double dx = (double)(x - m.xCoord);
         double dz = (double)(z - m.zCoord);
         double distSq = dx * dx + dz * dz;
         if (distSq <= rangeSq) {
            return true;
         }
      }

      return false;
   }

   public static int getLavaHeight(int x, int z) {
      LOTRMountains[] var2 = values();
      int var3 = var2.length;

      for(int var4 = 0; var4 < var3; ++var4) {
         LOTRMountains m = var2[var4];
         if (m.lavaRange > 0) {
            double dx = (double)(x - m.xCoord);
            double dz = (double)(z - m.zCoord);
            double distSq = dx * dx + dz * dz;
            double lavaRangeSq = (double)((m.lavaRange + 6) * (m.lavaRange + 6));
            if (distSq < lavaRangeSq) {
               return Math.round(m.getLavaCraterHeight() * 110.0F);
            }
         }
      }

      return 0;
   }
}
